var DwollaBtn=DwollaBtn||(function(){var a={cssURI:"button.css",dwollaPayAction:"https://www.dwolla.com/payment/pay"};return{init:function(){this.appendCSS();this.registerButtons();this.styleButtons()},appendCSS:function(){var b=$("<link/>",{rel:"stylesheet",type:"text/css",href:a.cssURI});$("head").append(b)},styleButtons:function(){$(".dwolla_button").each(function(){var f=$(this),c=f.clone(),d=f.attr("data-amount");var e=$("<span/>",{"class":"d-btn-text",html:f.html()}),g=$("<span/>",{"class":"d-btn-slide-text",html:"$"+d}),b=$("<span/>",{"class":"d-btn-icon-right",html:"<span></span>"});c.empty().append(e).append(g).append(b).addClass("d-btn").unbind("mouseover mouseout").bind({mouseover:function(){c.css({"padding-right":80+(d.length*15)}).find(".d-btn-slide-text").width(d.length*15)},mouseout:function(){c.css({"padding-right":80}).find(".d-btn-slide-text").width(0)}});f.replaceWith(c)})},registerButtons:function(){$(".dwolla_button").unbind("click.DwollaBtn").live("click.DwollaBtn",function(g){g.preventDefault();var d=$(this),f=$("<form/>",{method:"POST",action:a.dwollaPayAction});var b={destinationId:d.attr("data-dest"),amount:d.attr("data-amount"),shipping:d.attr("data-shipping"),tax:d.attr("data-tax"),name:d.attr("data-name"),desc:d.attr("data-desc"),redirect:d.attr("href"),key:d.attr("data-key")};for(key in b){var c=$("<input/>",{type:"hidden",name:key,value:b[key]});f.append(c)}$("body").append(f);f.submit();return false})}}}());DwollaBtn.init();