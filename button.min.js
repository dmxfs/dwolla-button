var DwollaBtn=DwollaBtn||(function(){var a={cssURI:"button.css",dwollaPayAction:"https://www.dwolla.com/payment/pay"};return{init:function(){this.appendCSS();this.styleButtons();this.registerButtons()},appendCSS:function(){var b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("href",a.cssURI);document.getElementsByTagName("head")[0].appendChild(b)},styleButtons:function(){var e=document.getElementsByClassName("dwolla_button");for(i=0;i<e.length;i++){var d=e[i],c=d.getAttribute("data-amount");var f=document.createElement("span");f.setAttribute("class","d-btn-text");f.appendChild(document.createTextNode(d.firstChild.nodeValue));d.replaceChild(f,d.firstChild);var b=document.createElement("span");b.setAttribute("class","d-btn-icon");d.appendChild(b);d.className+=" d-btn"}},registerButtons:function(){var b=function(e,d){var c=function(f){return(f.className.indexOf("d-btn")!==-1)&&f.nodeName=="A"};if(c(e)){return e}else{if(c(d)){return d}}return false};document.onclick=function(k){var j=k.target,f=k.target.parentNode,g;if(g=b(j,f)){k.preventDefault();var h=document.createElement("form");h.setAttribute("method","POST");h.setAttribute("action",a.dwollaPayAction);var c={destinationId:g.getAttribute("data-dest"),amount:g.getAttribute("data-amount"),shipping:g.getAttribute("data-shipping"),tax:g.getAttribute("data-tax"),name:g.getAttribute("data-name"),desc:g.getAttribute("data-desc"),redirect:g.getAttribute("href"),key:g.getAttribute("data-key")};for(key in c){var d=document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("name",key);d.setAttribute("value",c[key]);h.appendChild(d)}document.getElementsByTagName("body")[0].appendChild(h);h.submit();return false}}}}}());DwollaBtn.init();